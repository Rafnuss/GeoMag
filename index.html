<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Geolocation by Magnetic Field â€¢ GeoMag</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Geolocation by Magnetic Field">
<meta name="description" content="Provides methods to produce likelihood maps of position based on magnetic field data, including calibration, outlier removal, and interactive 3D visualization. Designed for use with animal geolocation workflows and fully compatible with the GeoPressureR framework (see https://raphaelnussbaumer.com/GeoPressureR). Includes functions for calibration, map generation, and integration with World Magnetic Model data.">
<meta property="og:description" content="Provides methods to produce likelihood maps of position based on magnetic field data, including calibration, outlier removal, and interactive 3D visualization. Designed for use with animal geolocation workflows and fully compatible with the GeoPressureR framework (see https://raphaelnussbaumer.com/GeoPressureR). Includes functions for calibration, map generation, and integration with World Magnetic Model data.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">GeoMag</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Rafnuss/GeoMag/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="geomag">GeoMag<a class="anchor" aria-label="anchor" href="#geomag"></a>
</h1></div>
<!-- badges: start -->

<p><strong>GeoMag</strong> is an R package to estimate animal geolocation using magnetic field data.<br>
It provides tools for robust calibration, outlier removal, likelihood map computation, and interactive 3D visualization of magnetic and acceleration data.<br>
GeoMag is designed to work seamlessly with <a href="https://raphaelnussbaumer.com/GeoPressureR" class="external-link">GeoPressureR</a>, enabling high-resolution migratory track reconstruction using multi-sensor archival tags.</p>
<hr>
<div class="section level2">
<h2 id="id_-overview">ğŸš€ Overview<a class="anchor" aria-label="anchor" href="#id_-overview"></a>
</h2>
<p>GeoMag implements a robust workflow for geolocation based on magnetic field measurements, including:</p>
<ul>
<li>
<strong>Calibration:</strong> Correct sensor biases, scale factors, and rotations using in situ or external datasets.</li>
<li>
<strong>Outlier removal:</strong> Automatically detect and exclude spurious measurements.</li>
<li>
<strong>Likelihood mapping:</strong> Compute spatial likelihood maps using the World Magnetic Model (WMM), comparing observed and predicted intensity and inclination.</li>
<li>
<strong>Interactive visualization:</strong> Explore raw and calibrated data, ellipsoid fits, and 3D scatterplots.</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="id_-main-features">ğŸ¦… Main Features<a class="anchor" aria-label="anchor" href="#id_-main-features"></a>
</h2>
<ul>
<li>
<strong>Magnetic sensor calibration</strong> (including ellipsoid and sphere fitting)</li>
<li>
<strong>Likelihood mapping</strong> of stationary periods (<code>geomag_map</code>)</li>
<li><strong>Integration with <a href="https://raphaelnussbaumer.com/GeoPressureR" class="external-link">GeoPressureR</a> tag analysis workflow</strong></li>
<li>
<strong>Interactive 3D plotting</strong> of sensor data (<code>plot_mag</code>)</li>
<li><strong>Support for WMM-based reference maps</strong></li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="id_-installation">ğŸ“¦ Installation<a class="anchor" aria-label="anchor" href="#id_-installation"></a>
</h2>
<p>To install the latest version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"Rafnuss/GeoMag"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="id_-learn-more">ğŸ“– Learn More<a class="anchor" aria-label="anchor" href="#id_-learn-more"></a>
</h2>
<ul>
<li>The <a href="https://raphaelnussbaumer.com/GeoPressureManual/" class="external-link">GeoPressureManual</a> includes a dedicated section on magnetic-based geolocation and demonstrates the GeoMag workflow with real data.</li>
<li>See also the <a href="https://raphaelnussbaumer.com/GeoPressureR/reference/index.html" class="external-link">GeoPressureR reference</a> for tag object structure and integration.</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="id_ï¸-example-usage">ğŸ› ï¸ Example Usage<a class="anchor" aria-label="anchor" href="#id_%EF%B8%8F-example-usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Rafnuss/GeoMag" class="external-link">GeoMag</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Rafnuss/GeoPressureR" class="external-link">GeoPressureR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Rafnuss/GeoPressureR" class="external-link">GeoPressureR</a></span><span class="op">)</span></span>
<span><span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_dir.html" class="external-link">with_dir</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"GeoMag"</span><span class="op">)</span>, <span class="op">{</span></span>
<span>  <span class="co"># Create a GeoPressureR tag object (see GeoPressureR documentation)</span></span>
<span>  <span class="va">tag</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://raphaelnussbaumer.com/GeoPressureR/reference/tag_create.html" class="external-link">tag_create</a></span><span class="op">(</span><span class="st">"14DM"</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Label the tag</span></span>
<span>  <span class="va">tag</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://raphaelnussbaumer.com/GeoPressureR/reference/tag_label.html" class="external-link">tag_label</a></span><span class="op">(</span><span class="va">tag</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calibrate the tag's magnetic data</span></span>
<span><span class="va">tag</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/geomag_calib.html">geomag_calib</a></span><span class="op">(</span><span class="va">tag</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Interactive 3D plot of calibrated magnetic field</span></span>
<span><span class="fu"><a href="reference/plot_mag.html">plot_mag</a></span><span class="op">(</span><span class="va">tag</span>, type <span class="op">=</span> <span class="st">"acceleration"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/plot_mag.html">plot_mag</a></span><span class="op">(</span><span class="va">tag</span>, type <span class="op">=</span> <span class="st">"magnetic"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/plot_mag.html">plot_mag</a></span><span class="op">(</span><span class="va">tag</span>, type <span class="op">=</span> <span class="st">"calib"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute the spatial likelihood map for each stationary period</span></span>
<span><span class="va">tag</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/geomag_map.html">geomag_map</a></span><span class="op">(</span><span class="va">tag</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">tag</span>, <span class="st">"map_magnetic"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="id_-citation">ğŸ“š Citation<a class="anchor" aria-label="anchor" href="#id_-citation"></a>
</h2>
<p>If you use GeoMag in your research, please cite:</p>
<blockquote>
<p>Nussbaumer, R. (2025). GeoMag: Magnetic Field-Based Geolocation in R. <a href="https://github.com/Rafnuss/GeoMag" class="external-link uri">https://github.com/Rafnuss/GeoMag</a></p>
</blockquote>
<p>For citation information in R:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"GeoMag"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="id_-related-projects">ğŸ”— Related Projects<a class="anchor" aria-label="anchor" href="#id_-related-projects"></a>
</h2>
<ul>
<li>
<a href="https://raphaelnussbaumer.com/GeoPressureR" class="external-link">GeoPressureR</a>: Pressure-based geolocation</li>
<li>
<a href="https://github.com/Rafnuss/GeoLocatoR" class="external-link">GeoLocatoR</a>: Data packaging for geolocator datasets</li>
<li>
<a href="https://github.com/Rafnuss/GeoPressureTemplate" class="external-link">GeoPressureTemplate</a>: Template repository for geolocator analysis</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="id_-license">ğŸ“ License<a class="anchor" aria-label="anchor" href="#id_-license"></a>
</h2>
<p>This package is licensed under <a href="https://creativecommons.org/licenses/by/4.0/" class="external-link">CC BY 4.0</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Rafnuss/GeoMag/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://creativecommons.org/licenses/by/4.0" class="external-link">CC BY 4.0</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing GeoMag</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>RaphaÃ«l Nussbaumer <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-8185-1020" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Rafnuss/GeoMag/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/Rafnuss/GeoMag/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/Rafnuss/GeoMag" class="external-link"><img src="https://codecov.io/gh/Rafnuss/GeoMag/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/Rafnuss/GeoMag/actions/workflows/lint.yaml" class="external-link"><img src="https://github.com/Rafnuss/GeoMag/actions/workflows/lint.yaml/badge.svg" alt="lint"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by RaphaÃ«l Nussbaumer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
